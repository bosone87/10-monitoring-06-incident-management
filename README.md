# Домашнее задание к занятию 17 «Инцидент-менеджмент»

## Основная часть

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информация о сбое:

* [в виде краткой выжимки на русском языке](https://habr.com/ru/post/427301/);
* [развёрнуто на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).

<br>
<br>

# **Постмортем**

| **Краткое описание инцидента** |   В воскресенье в 22:52 по всемирному координированному времени (UTC) несколько сервисов на GitHub.com были затронуты сетевым разделом и последующим сбоем базы данных, что привело к несогласованности информации       |
|----------------------------|----------|
| **Причина инцидента** |     Плановые работы по техническому обслуживанию по замене вышедшего из строя оптического оборудования 100G привели к потере соединения между нашим сетевым концентратором на восточном побережье США и основным центром обработки данных на восточном побережье США.    |
| **Воздействие** |      Ухудшение качества обслуживания на 24 часа и 11 минут. Этот инцидент не затронул некоторые части платформы, но были затронуты несколько внутренних систем, в результате чего отображалась устаревшая и непоследовательная информация. В большинстве случаев GitHub также не мог обслуживать события веб-перехватчиков или создавать и публиковать сайты GitHub Pages.     |
| **Обнаружение** |     Системы мониторинга начали генерировать оповещения, указывающие на многочисленные сбои в наших системах. К 23:02 UTC инженеры группы быстрого реагирования определили, что топологии многочисленных кластеров баз данных находятся в неожиданном состоянии.     |
| **Реакция** |   Группа реагирования вручную заблокировала внутренние инструменты развертывания, чтобы предотвратить внесение каких-либо дополнительных изменений и перевела сайт в желтый статус. Это действие автоматически перевело ситуацию в активный инцидент и отправило предупреждение координатору инцидента. В 23:11 UTC подключился координатор инцидентов и через две минуты изменил статус решения на красный .      |
| **Восстановление** |      Контролируемый процесс восстановления из резервных копий в центре обработки данных на восточном побережье США и репликация новых данных с западного побережья.     |
||
| **Таймлайн** |     2018 21 октября 22:54 UTC   <br>генерация оповещений, указывающих на многочисленные сбои  |
|  |     2018 21 октября 23:07 UTC   <br>ручная блокировка внутренних инструментов развертывания   |
|  |     2018 21 октября 23:09 UTC   <br>перевод сайта в желтый статус    |
|  |     2018 21 октября 23:11 UTC   <br>перевод сайта в красный статус, координатором инцидентов    |
|  |     2018 21 октября 23:13 UTC   <br>были вызваны дополнительные инженеры из группы разработки баз данных для определения необходимых действий      |
|  |     2018 21 октября 23:19 UTC   <br>остановка выполнения заданий, записывающих метаданные о push-уведомлениях,  приостановление доставки веб-перехватчиков и сборки страниц GitHub      |
|  |     2018 22 октября 00:05 UTC   <br>разработка плана по устранению несоответствий данных и реализации процедур аварийного переключения для MySQL   |
|  |     2018 22 октября 00:41 UTC   <br>начало процесса резервного копирования для всех затронутых кластеров MySQL    |
|  |     2018 22 октября 06:51 UTC   <br>несколько кластеров завершили восстановление из резервных копий    |
|  |     2018 22 октября 07:46 UTC   <br>GitHub опубликовал сообщение в блоге, чтобы предоставить больше контекста    |
|  |     2018 22 октября 11:12 UTC   <br>все первичные базы данных снова установлены на восточном побережье США   |
|  |     2018 22 октября 13:15 UTC   <br>приближение к пиковой нагрузке трафика на GitHub.com,  как только стали доступны дополнительные реплики чтения MySQL в общедоступном облаке Восточного побережья США, стало проще распределить объем запросов на чтение между большим количеством серверов    |
|  |     2018 22 октября 16:24 UTC   <br>как только реплики были синхронизированы, был выполнен переход на исходную топологию, решая непосредственные проблемы с задержкой и доступностью, сохранение статуса службы красным, пока обрабатываются накопившиеся данные   |
|  |     2018 22 октября 16:45 UTC   <br>балансировка выросшей нагрузки, обработка около 200 000 полезных нагрузок веб-перехватчиков, увеличение TTL, возвращение к нормальному уровню производительности    |
|  |     2018 22 октября 23:02 UTC   <br>все ожидающие сборки веб-перехватчиков и страниц были обработаны, а целостность и правильная работа всех систем подтверждены, статус сайта изменился на зеленый     |
|||
|**Последующие действия**|
|Устранение несоответствий данных|анализ журналов и определение, какие записи могут быть автоматически согласованы, а какие потребуют взаимодействия с пользователями|
|Коммуникация|публикация общедоступных оценок времени ремонта, основанных на скорости обработки накопившихся данных|
|Технические инициативы|1. настройка конфигурации Orchestrator, чтобы предотвратить распространение основных баз данных за пределы региональных границ <br>2. ускоренный переход на новый механизм отчетности о статусе, который предоставит нам более обширную площадку для обсуждения активных инцидентов более четким и понятным языком <br>3. поддержка проекта по поддержке обслуживания трафика GitHub из нескольких центров обработки данных в схеме «активный-активный-активный» <br>4. более активная позицию при проверке наших предположений |
|Организационные инициативы|начало систематической практики проверки сценариев неудач до того, как они смогут повлиять на клиента, инвестиции в инструменты внедрения ошибок и хаос-инжиниринга на GitHub |
---
<br>
<br>


### Как оформить решение задания

Выполненное домашнее задание пришлите в виде ссылки на .md-файл в вашем репозитории.

---
